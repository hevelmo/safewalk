function resetAlert(){alertify.set({labels:{ok:"OK",cancel:"Cancel"},delay:5e3,buttonReverse:!1,buttonFocus:"ok"})}function validate(e,t,o,n){var r,i,a;if(r={valid:!1,message:""},i=void 0==e||""===e,o=!0===o,o?i&&(r.message=validation_messages.required):i&&(r.valid=!0),!r.valid&&""===r.message){for(a=t.length;a--;)switch(t[a]){case"email":validations_regexp.email.test(e)||(r.message=validation_messages.email);break;case"name":validations_regexp.name.test(e)||(r.message=validation_messages.general);break;case"address":validations_regexp.address.exec(e)||(r.message=validation_messages.general);break;case"phone":validations_regexp.phone.exec(e)||(r.message=validation_messages.phone);break;case"upload":valid_extension_file(formulario,e)||(r.message=validation_messages.upload);break;case"free":r.message="";break;default:r.message=validations_regexp.not_config}""===r.message&&(r.valid=!0)}return n&&!r.valid&&(r.message=n),r}var domEl,tempsNames,urlsApi;domEl={a_go_schedule_test_drive_ftype_conv:"a#go-schedule-test-drive-ftype-conv",a_go_schedule_test_drive_ftype_coupe:"a#go-schedule-test-drive-ftype-coupe",a_go_schedule_test_drive_xf:"a#go-schedule-test-drive-xf",a_go_schedule_test_drive_xj:"a#go-schedule-test-drive-xj",btn_service_send_country:"#service_send_country",btn_service_send_gdl:"#service_send_gdl",div_content_details_models:"div#content_details_models",div_content_dual_frame_carousel:"div#content_dual_frame_carousel",div_content_form_country:"div#content_form_country",div_content_form_gdl:"div#content_form_gdl",div_content_form_schedule_test_drive:"div#content_form_schedule_test_drive",div_content_model_selector:"div#content_model_selector",div_content_news:"div#content_promos",div_content_select_models:"div#content_select_models",div_hidden_inputs_session:"div#hidden-inputs-session",div_hidden_inputs_temporal:"div#hidden-inputs-temporal",div_recurrent:"div#content-temporal-interactive",div_recurrent_agencie_address:"#content-agencie-address",form_jag_service_country:"#form-jag-service-country",form_jag_service_gdl:"#form-jag-service-gdl",input_master_host:"input#master-host",itm_ser_country_concessionary:"#concessionary-service-country",itm_ser_country_email:"#email-service-country",itm_ser_country_lastname:"#lastname-service-country",itm_ser_country_logo:"#logo-service-country",itm_ser_country_message:"#message-service-country",itm_ser_country_name:"#name-service-country",itm_ser_country_phone:"#phone-service-country",itm_ser_country_url:"#url-service-country",itm_ser_gdl_concessionary:"#concessionary-service-gdl",itm_ser_gdl_email:"#email-service-gdl",itm_ser_gdl_lastname:"#lastname-service-gdl",itm_ser_gdl_logo:"#logo-service-gdl",itm_ser_gdl_message:"#message-service-gdl",itm_ser_gdl_name:"#name-service-gdl",itm_ser_gdl_phone:"#phone-service-gdl",itm_ser_gdl_url:"#url-service-gdl",validate_required:".validate-required"},tempsNames={recurrent_agencies:"temp_content_agencies",temp_agencie_jaguar_country:"temp_agencie_jaguar_country",temp_agencie_jaguar_gdl:"temp_agencie_jaguar_gdl",temp_aviso_privacidad:"temp_aviso_privacidad",temp_conquista_los_caminos:"temp_conquista_los_caminos",temp_details_f_type:"temp_details_f_type",temp_details_f_type_conv:"temp_details_f_type_conv",temp_details_f_type_coupe:"temp_details_f_type_coupe",temp_details_xf:"temp_details_xf",temp_details_xj:"temp_details_xj",temp_dual_frame_carousel_ftype_conv:"temp_dual_frame_carousel_ftype_conv",temp_dual_frame_carousel_ftype_coupe:"temp_dual_frame_carousel_ftype_coupe",temp_dual_frame_carousel_ftype_xf:"temp_dual_frame_carousel_ftype_xf",temp_dual_frame_carousel_ftype_xj:"temp_dual_frame_carousel_ftype_xj",temp_form_country_contact:"temp_formcountry_contact",temp_form_country_service:"temp_formcountry_service",temp_form_gdl_contact:"temp_formgdl_contact",temp_form_gdl_service:"temp_formgdl_service",temp_form_schedule_test_drive:"temp_form_schedule_test_drive",temp_form_schedule_test_drive_by_model:"temp_form_schedule_test_drive_by_model",temp_lujo_de_un_jaguar:"temp_lujo_de_un_jaguar",temp_masters_of_innovation:"temp_masters_of_innovation",temp_model_promos_dual:"temp_model_promos_dual",temp_model_promos_maestros_de_la_innovacion:"temp_model_promos_maestros_de_la_innovacion",temp_model_promos_xf:"temp_model_promos_xf",temp_model_promos_xj:"temp_model_promos_xj",temp_model_selector_ftype_conv:"temp_model_selector_ftype_conv",temp_model_selector_ftype_coupe:"temp_model_selector_ftype_coupe",temp_model_selector_ftype_xf:"temp_model_selector_ftype_xf",temp_model_selector_ftype_xj:"temp_model_selector_ftype_xj",temp_news:"temp_promos",temp_select_f_type:"temp_select_f_type",temp_site_news_best_gift:"temp_site_news_best_gift",temp_site_news_night_experiencet:"temp_night_experience",temp_site_news_sibarita:"temp_site_news_sibarita",temp_site_news_sibarita_masters:"temp_site_news_sibarita_masters",temp_slider_index:"temp_sliderindex",temp_slider_inner_contact:"temp_sliderinner_contact",temp_slider_inner_ftype:"temp_sliderinner_ftype",temp_slider_inner_ftype_conv:"temp_sliderinner_ftype_conv",temp_slider_inner_ftype_coupe:"temp_sliderinner_ftype_coupe",temp_slider_inner_promos:"temp_sliderinner_promos",temp_slider_inner_servicio:"temp_sliderinner_service",temp_slider_inner_xf:"temp_sliderinner_xf",temp_slider_inner_xj:"temp_sliderinner_xj",temp_sliderinner_agencie_country:"temp_sliderinner_agencie_country",temp_sliderinner_agencie_gdl:"temp_sliderinner_agencie_gdl",temp_sliderinner_schedule_test_drive:"temp_sliderinner_schedule_test_drive",temp_there_s_a_new_chief_in_town:"temp_there_s_a_new_chief_in_town"},urlsApi={add_max:"api/v1/add/max",snd_con:"api/v1/send/contacto",snd_drv:"api/v1/send/testdrive",snd_fin:"api/v1/send/financiamiento",snd_rep:"api/v1/send/refacciones",snd_srv:"api/v1/send/servicio"};var IS_MOBILE=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),offset,offset_opacity,scroll_top_duration;offset=300,offset_opacity=1200,scroll_top_duration=700;var GLOBALMasterMax=$("input#master-max").val(),GLOBALRootApi=$("input#master-root-api").val(),isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}},backToTopMethod={backToTop:function(e){e.preventDefault(),$("body,html").animate({scrollTop:0},scroll_top_duration)},windowScroll:function(){$(this).scrollTop()>offset?$(domEl._back_to_top).addClass("cd-is-visible"):$(domEl._back_to_top).removeClass("cd-is-visible cd-fade-out"),$(this).scrollTop()>offset_opacity&&$(domEl._back_to_top).addClass("cd-fade-out")},init_window_scroll_top:function(){$(window).scroll(backToTopMethod.windowScroll)}},dropdown_methods={dropdown:function(){$(".inner-menu").not($("ul",this)).slideUp("fast").next(),$(this).find("ul").slideToggle("fast").end()}},toHtmlMethod={toHtml:function(){$(".to-html").each(function(){var e,t;t=$(this),e=JAG.getHTML(t),e=$.trim(e),e=JAG.replaceAll(e,"&lt;","<"),e=JAG.replaceAll(e,"&gt;",">"),JAG.setHTML(t,e)})}},altoMaxMethods={altomax:function(){$(".grid-item-inner").css("height","530px")}},openMenuMethods={clickOpenMenu:function(){$("nav").toggleClass("open-menu"),console.log("open")},clickOpenModels:function(){clearTimeout(void 0),$(".model-select-block",".nav-1").slideDown()},clickOpenAgencies:function(){clearTimeout(void 0),$(".agencies-select-block",".nav-1").slideDown()}},closeMenuMethods={clickClose:function(){$("nav").removeClass("open-menu")},clickCloseModels:function(){setTimeout(function(){$(".model-select-block",".nav-1").slideUp()},100)},clickCloseAgencies:function(){setTimeout(function(){$(".agencies-select-block",".nav-1").slideUp()},100)}},windowWidthMethod={windowWidth:function(){if((window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>900)for(var e,t,o,n,r=document.querySelectorAll(".HeroCarousel"),i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,a=0;a<r.length;a++){for(t=0,o=e=r[a];o;)t+=o.offsetTop-o.scrollTop+o.clientTop,o=o.offsetParent;(n=i-t)>450&&(e.style.height=n+"px")}}},scrollHeader={init:function(){$(window).scrollTop()>50?$(".header-scroll").addClass("active"):$(".header-scroll").removeClass("active")}};$.scroll_to=function(e){var t,o,n=$("#header-wrapper").height();"top"!=e?(o=(t=$('a[name="'+e+'"]')).offset().top-n-35,IS_MOBILE&&(o+=75)):o=0,console.log(t),console.log(o),$("html,body").stop().animate({scrollTop:o},800,"easeOutSine")};var scrollContact={init:function(e){e.preventDefault(),$.scroll_to("contacto")}},mobileSection={buttonsSection:function(){isMobile.any()&&($(".phone.hidden-movil").attr("style","display: none;"),$(window).scroll(mobileSection.isScrollInMobile),$(".scroll").scrollable())},isScrollInMobile:function(){$(this).scrollTop()>0?($(".mobile-section").slideDown(300),$(".buttons").slideDown(300)):($(".mobile-section").slideUp(300),$(".buttons").slideUp(300))}},slideInPanel={openSlideInPanel:function(e){e.preventDefault(),$(".cd-panel").addClass("is-visible")},closeSlideInPanel:function(e){($(e.target).is(".cd-panel")||$(e.target).is(".cd-panel-close"))&&($(".cd-panel").removeClass("is-visible"),e.preventDefault())}},video_strip_methods={video_strip_pre_video:function(){$(this).closest(".pre-video").addClass("fade-off"),$(this).closest(".video-strip").find(".iframe-holder").addClass("show-iframe");var e=$(this);setTimeout(function(){e.closest(".video-strip").find(".iframe-holder").addClass("fade-on")},500)},video_strip_close_frame:function(){$(this).closest(".iframe-holder").removeClass("fade-on");var e=$(this);setTimeout(function(){e.closest(".video-strip").find(".iframe-holder").removeClass("show-iframe"),e.closest(".video-strip").find(".pre-video").removeClass("fade-off")},500)},stop_video:function(){$("iframe").attr("src",$("iframe").attr("src"))}},init_hero_slider={hero_slider:function(){windowWidthMethod.windowWidth()}},jagHome={initialized:!1,initialize:function(){this.initizalized||(this.initialized=!0,this.build())},build:function(){this.init_hero_slider()},_init:function(){init_hero_slider.hero_slider()}},jagVehicles={initialized:!1,initialize:function(){this.initizalized||(this.initialized=!0,this.build())},build:function(){this.init_hero_slider()},_init:function(){init_hero_slider.hero_slider()}},jagBlog={initialized:!1,initialize:function(){this.initizalized||(this.initialized=!0,this.build())},build:function(){},_init:function(){}},jagTestDrive={initialized:!1,initialize:function(){this.initizalized||(this.initialized=!0,this.build())},build:function(){this.init_hero_slider()},_init:function(){init_hero_slider.hero_slider()}},jagFinancing={initialized:!1,initialize:function(){this.initizalized||(this.initialized=!0,this.build())},build:function(){this.init_hero_slider()},_init:function(){init_hero_slider.hero_slider()}},set_data={set_product:function(){get_data=JAG.getValue("#master-product"),JAG.setValue("#jag_product",get_data),console.log(get_data)}},testDriveForm={sendLeads:function(){var e,t;return e=$(testDriveForm.contactForm).serializeFormJSON(),t=JAG.renameArrayObjKeys([e],{name:"nombre",lastname:"apellidos",email:"correo",phone:"telefono",agencie:"agencia",product:"producto",comment:"mensaje"}),t=t[0],t.business_max=$("#jag_agn").find(":selected").data("max-id"),t.news="0",t.origen_type="2",t.campaign_max="Prueba de manejo.",t.web_max=window.location.href,t.exit_web=window.location.href,JAG.postalService(GLOBALMasterMax,t)},handlerPromiseSend:function(){var e,t;t=JAG.getValue("#master-host"),url_location=t,e=JAG.getValue("#jag_agn"),jag_product=JAG.getValue("#jag_product"),console.log(e,jag_product),testDriveForm.loaderIcon="#loader_send_icon",testDriveForm.sendButton="#"+$(this).attr("id"),testDriveForm.contactForm="form#"+$(domEl.div_recurrent).find("form").attr("id"),formErrors=formValidation.required(testDriveForm.contactForm,".validate-required",testDriveForm.sendButton),formErrors&&($(testDriveForm.contactForm).css("cursor","auto").prop("disabled",!0),$(testDriveForm.loaderIcon).css("display","block"),resetAlert(),alertify.set({labels:{ok:"Aceptar",cancel:"Cancelar"}}),data=$(testDriveForm.contactForm).serializeFormJSON(),leadsPromise=testDriveForm.sendLeads(),leadsPromise.success(function(){ga("send","event","button-send-form-test-drive-contact","Prueba de Manejo: "+jag_product,"form-test-drive-contact"),setTimeout(function(){setTimeout(function(){$(".form-thanks").fadeIn(1e3),setTimeout(function(){testDriveForm.resetContact(),alertify.alert("¡Muchas gracias!<br>Hemos enviado su formulario exitosamente a un representante de la concesionaria "+e+", pronto se pondrá en contacto con usted para enviarle su cotización.",function(){$(location).attr("href",url_location)}),alertify.success("Datos enviados.")},1800)},1800)},1400)}),leadsPromise.error(function(){testDriveForm.resetContact(),alertify.error("No se han podido enviar los datos <br /> Inténtelo más tarde.")}))},resetContact:function(){var e;e=$(".send_contact_form"),JAG.resetForm(testDriveForm.contactForm),$(testDriveForm.loaderIcon).css("display","none"),e.removeAttr("disabled")},clickSend:function(){testDriveForm.handlerPromiseSend()}},financingForm={sendButtons:"",contactForm:"",loaderIcon:"",sendLeads:function(){var e;return data=$(financingForm.contactForm).serializeFormJSON(),e=JAG.renameArrayObjKeys([data],{name:"nombre",lastname:"apellidos",email:"correo",phone:"telefono",agencie:"agencia",product:"producto",comment:"mensaje"}),e=e[0],e.business_max=$("#jag_agn").find(":selected").data("max-id"),e.news="0",e.origen_type="2",e.campaign_max="Financiamiento",e.web_max=window.location.href,e.exit_web=window.location.href,JAG.postalService(GLOBALMasterMax,e)},handlerPromiseSend:function(){var e,t;t=JAG.getValue("#master-host"),url_location=t,e=JAG.getValue("#jag_agn"),jag_product=JAG.getValue("#jag_producto"),financingForm.loaderIcon="#loader_send_icon",financingForm.sendButton="#"+$(this).attr("id"),financingForm.contactForm="form#"+$(domEl.div_recurrent).find("form").attr("id"),formErrors=formValidation.required(financingForm.contactForm,".validate-required",financingForm.sendButton),formErrors&&($(financingForm.contactForm).css("cursor","auto").prop("disabled",!0),$(financingForm.loaderIcon).css("display","block"),resetAlert(),alertify.set({labels:{ok:"Aceptar",cancel:"Cancelar"}}),data=$(financingForm.contactForm).serializeFormJSON(),leadsPromise=financingForm.sendLeads(),leadsPromise.success(function(){ga("send","event","button-send-form-financing","Financiamiento: "+jag_product,"form-financing-contact"),setTimeout(function(){setTimeout(function(){$(".form-thanks").fadeIn(1e3),setTimeout(function(){financingForm.resetFinancing(),alertify.alert("¡Muchas gracias!<br>Hemos enviado su formulario exitosamente a un representante de la concesionaria "+e+", pronto se pondrá en contacto con usted para enviarle su cotización.",function(){$(location).attr("href",url_location)}),alertify.success("Datos enviados.")},1800)},1800)},1400)}),leadsPromise.error(function(){financingForm.resetFinancing(),alertify.error("No se han podido enviar los datos <br /> Inténtelo más tarde.")}))},resetFinancing:function(){var e;e=$(".send_contact_form"),JAG.resetForm(financingForm.contactForm),$(financingForm.loaderIcon).css("display","none"),e.removeAttr("disabled")},clickSend:function(){financingForm.handlerPromiseSend()}},contactForm={sendButtons:"",contactForm:"",loaderIcon:"",sendLeads:function(){var e,t;return e=$(contactForm.contactForm).serializeFormJSON(),t=JAG.renameArrayObjKeys([e],{name:"nombre",lastname:"apellidos",email:"correo",phone:"telefono",agencie:"agencia",product:"producto",comment:"mensaje"}),t=t[0],t.business_max=$("#jag_business_max").val(),t.news="0",t.origen_type="2",t.campaign_max="Contacto",t.web_max=window.location.href,t.exit_web=window.location.href,JAG.postalService(GLOBALMasterMax,t)},handlerPromiseSend:function(){var e,t;t=JAG.getValue("#master-host"),url_location=t,e=JAG.getValue("#jag_agn"),jag_product=JAG.getValue("#jag_producto"),console.log(e,jag_product),contactForm.loaderIcon="#loader_send_icon",contactForm.sendButton="#"+$(this).attr("id"),contactForm.contactForm="form#"+$(domEl.div_recurrent).find("form").attr("id"),formErrors=formValidation.required(contactForm.contactForm,".validate-required",contactForm.sendButton),formErrors&&($(contactForm.contactForm).css("cursor","auto").prop("disabled",!0),$(contactForm.loaderIcon).css("display","block"),resetAlert(),alertify.set({labels:{ok:"Aceptar",cancel:"Cancelar"}}),data=$(contactForm.contactForm).serializeFormJSON(),leadsPromise=contactForm.sendLeads(),leadsPromise.success(function(){ga("send","event","button-send-form--contact",jag_product,"form-contact"),setTimeout(function(){setTimeout(function(){$(".form-thanks").fadeIn(1e3),setTimeout(function(){contactForm.resetContact(),alertify.alert("¡Muchas gracias!<br>Hemos enviado su formulario exitosamente a un representante de la concesionaria "+e+", En breve nos contactaremos con usted.",function(){$(location).attr("href",url_location)}),alertify.success("Datos enviados.")},1800)},1800)},1400)}),leadsPromise.error(function(){contactForm.resetContact(),alertify.error("No se han podido enviar los datos <br /> Inténtelo más tarde.")}))},resetContact:function(){var e;e=$(".send_contact_form"),JAG.resetForm(contactForm.contactForm),$(contactForm.loaderIcon).css("display","none"),e.removeAttr("disabled")},clickSend:function(){contactForm.handlerPromiseSend()}},jagService={initialized:!1,initialize:function(){this.initizalized||(this.initialized=!0,this.build())},build:function(){this.init_hero_slider()},_init:function(){$(".hero-slider").flexslider({directionNav:!1})}},serviceForm={sendButtons:"",contactForm:"",loaderIcon:"",sendLeads:function(){var e,t;return e=$(serviceForm.contactForm).serializeFormJSON(),t=JAG.renameArrayObjKeys([e],{name:"nombre",lastname:"apellidos",email:"correo",phone:"telefono",agencie:"agencia",product:"producto",comment:"mensaje",business_max:"max_id"}),t=t[0],t.news="0",t.origen_type="2",t.campaign_max="Contacto Servicio",t.web_max=window.location.href,t.exit_web=window.location.href,JAG.postalService(GLOBALMasterMax,t)},handlerPromiseSend:function(){var e,t,o,n;n=JAG.getValue("#master-host"),url_location=n,t=JAG.getValue("#"+$(".get_agn").attr("id")),o=JAG.getValue("#"+$(".get_pro").attr("id")),serviceForm.loaderIcon="#"+$(this).data("prefix")+"loader_send_icon",serviceForm.sendButton="#"+$(this).data("prefix")+$(this).attr("id"),serviceForm.contactForm="form#"+$(domEl.div_recurrent).find("form[data-scope='"+$(this).data("scope")+"']").attr("id"),formErrors=formValidation.required(serviceForm.contactForm,".validate-required",serviceForm.sendButton),formErrors&&($(serviceForm.contactForm).css("cursor","auto").prop("disabled",!0),$(serviceForm.loaderIcon).css("display","block"),resetAlert(),alertify.set({labels:{ok:"Aceptar",cancel:"Cancelar"}}),data=$(serviceForm.contactForm).serializeFormJSON(),(e=serviceForm.sendLeads()).success(function(){ga("send","event","button-send-contact-service",t+" "+o,"contact-service"),setTimeout(function(){setTimeout(function(){$(".form-thanks").fadeIn(1e3),setTimeout(function(){serviceForm.resetService(),alertify.alert("¡Muchas gracias!<br>Hemos enviado su formulario exitosamente a un representante de la concesionaria "+t+", En breve nos contactaremos con usted.",function(){$(location).attr("href",url_location)}),alertify.success("Datos enviados.")},1800)},1800)},1400)}),e.error(function(){serviceForm.resetService(),alertify.error("No se han podido enviar los datos <br /> Inténtelo más tarde.")}))},resetService:function(){var e;e=$(".send_contact_form"),JAG.resetForm(serviceForm.contactForm),$(serviceForm.loaderIcon).css("display","none"),e.removeAttr("disabled")},clickSend:function(){serviceForm.handlerPromiseSend()}},repairsForm={sendLeads:function(){var e,t;return e=$(repairsForm.contactForm).serializeFormJSON(),t=JAG.renameArrayObjKeys([e],{name:"nombre",lastname:"apellidos",email:"correo",phone:"telefono",agencie:"agencia",product:"producto",comment:"mensaje",business_max:"max_id"}),t=t[0],t.news="0",t.origen_type="2",t.campaign_max="Contacto Refaciones",t.web_max=window.location.href,t.exit_web=window.location.href,JAG.postalService(GLOBALMasterMax,t)},handlerPromiseSend:function(){var e,t,o;o=JAG.getValue("#master-host"),url_location=o,t=JAG.getValue("#"+$(".get_agn").attr("id")),JAG.getValue("#"+$(".get_pro").attr("id")),resetAlert(),alertify.set({labels:{ok:"Aceptar",cancel:"Cancelar"}}),data=$(repairsForm.contactForm).serializeFormJSON(),(e=repairsForm.sendContacto()).success(function(){setTimeout(function(){setTimeout(function(){$(".form-thanks").fadeIn(1e3),setTimeout(function(){repairsForm.resetService(),alertify.alert("¡Muchas gracias!<br>Hemos enviado su formulario exitosamente a un representante de la concesionaria "+t+", En breve nos contactaremos con usted.",function(){$(location).attr("href",url_location)}),alertify.success("Datos enviados.")},1800)},1800)},1400)}),e.error(function(){repairsForm.resetService(),alertify.error("No se han podido enviar los datos <br /> Inténtelo más tarde.")})},handlerPromiseLeads:function(){var e;(e=repairsForm.sendContacto()).success(repairsForm.handlerPromiseSend),e.error(repairsForm.handlerPromiseSend)},sendContacto:function(){var e,t;return t=$(repairsForm.contactForm).serializeFormJSON(),e=GLOBALRootApi,JAG.postalService(e+urlsApi.snd_srv,t)},resetService:function(){var e;e=$(".send_contact_form"),JAG.resetForm(repairsForm.contactForm),$(repairsForm.loaderIcon).css("display","none"),e.removeAttr("disabled")},clickSend:function(){repairsForm.loaderIcon="#loader_send_icon",repairsForm.sendButton="#"+$(this).attr("id"),repairsForm.contactForm="form#"+$(domEl.div_recurrent).find("form").attr("id"),formErrors=formValidation.required(repairsForm.contactForm,".validate-required",repairsForm.sendButton),formErrors&&($(repairsForm.contactForm).css("cursor","auto").prop("disabled",!0),$(repairsForm.loaderIcon).css("display","block"),leadsPromise=repairsForm.sendLeads(),leadsPromise.success(repairsForm.handlerPromiseLeads),leadsPromise.error(repairsForm.handlerPromiseLeads))}},formValidation={required:function(e,t,o){var n;return $(e+" "+o).removeAttr("disabled"),n=0,$(e+" "+t).each(function(){$.validate_input($(this))||(n++,$(this).focus())}),0===n}},JAG={};JAG=function(){function e(e,t){return moment.lang(t),moment(e).format("dddd[,] LL")}function t(e,t){return moment.lang(t),moment(e,"YYYY-MM-DD hh:mm:ss").fromNow(!0)}function o(e,t){var o=Handlebars.templates[e];return t?o(t):o}function n(e,t,n){$(t).html(o(e,n))}function r(e){return $(e).val()}function i(e,t){$(e).val(t)}function a(e){return $(e).length>0}function s(e){var t,o;t=$(e).val(),o=$.trim(t),$(e).val(o)}function c(e){return $(e).html()}function d(e,t){$(e).html(t)}function l(e){var t,o;t=$(e).val(),o=hex_sha512(t),$(e).val(o)}function m(e,t,o,n,r){var i;i="<"+t;for(var a in o)i+=o.hasOwnProperty(a)?" "+a+"='"+o[a]+"'":"";r?(i+=">",i+=n,i+="</"+t+">"):(i+=" />",i+=n),$(e).append(i)}function u(e,t){for(var o=0;o<t.length;o++)m(e,t[o][0],t[o][1],t[o][2],t[o][3])}function p(e,t,o,n,r){var i;i="<"+t;for(var a in o)i+=o.hasOwnProperty(a)?" "+a+"='"+o[a]+"'":"";r?(i+=">",i+=n,i+="</"+t+">"):(i+=" />",i+=n),$(e).prepend(i)}function f(e,t){for(var o=0;o<t.length;o++)p(e,t[o][0],t[o][1],t[o][2],t[o][3])}function v(e){var t,o,n,r,i,a,s,c,d,l,m,_,u,p,f,v,g;$(e).each(function(){t=$(this),o=$(t).val(),o=$.trim(o),n=o.length,r=t.css("font-size"),r=J(r,"px",""),r=+r,i=t.css("font-family"),a=t.css("width"),a=J(a,"px",""),a=+a,height=t.css("height"),s=t.css("padding-top"),s=J(s,"px",""),s=+s,c=t.css("padding-bottom"),c=J(c,"px",""),c=+s,d=t.css("line-height"),d=J(d,"px",""),d=+d,l=t.css("padding-left"),l=J(l,"px",""),l=+l,m=t.css("padding-right"),m=J(m,"px",""),m=+m,_=document.createElement("canvas"),(u=_.getContext("2d")).font=r+"px"+i,p=u.measureText(o).width,p=Math.ceil(p),f=a-l-m,g=height,n&&p>f&&(v=p/f,v=Math.ceil(v),g=s+v*r+(v-1)*d+c,g+="px"),t.css("word-break","break-word"),t.css("height",g),t.css("vertical-align","middle")})}function g(e,t,o){var n,r,i,a,s,c;switch(n=new Date,(r=new Date(n)).setDate(n.getDate()+t),i=r.getFullYear(),a=+r.getMonth(),a+=1,s=r.getDate(),c=i+"-"+a+"-"+(+s+1),$(e).datetimepicker({pickTime:!1}),o){case 0:$(e).data("DateTimePicker").setDate(c);break;case 1:$(e).data("DateTimePicker").setMinDate(r),$(e).data("DateTimePicker").setDate(c);break;case 2:$(e).data("DateTimePicker").setMinDate(r)}}function h(e,t){for(var o in e)e[o]=$.trim(e[o]);return _.size(_.compact(_.pick(e,t)))===t.length}function b(e,t){for(var o in e)e[o]=$.trim(e[o]);return!_.size(_.compact(_.pick(e,t)))}function y(e){$(e).each(function(){this.reset()})}function F(e,t){return $.ajax({type:"POST",contentType:"application/json",url:e,dataType:"json",data:JSON.stringify(t)})}function w(e){return function(){var t=null;return $.ajax({async:!1,global:!1,url:e,dataType:"json"}).done(function(e){t=e}),t}()}function x(e,t){return"object"==typeof e&&e.hasOwnProperty(t)}function A(e,t,o,n){return _.filter(_.pluck(e,t),function(e){return n?e===o:e!==o})}function k(e,t){return _.reduce(_.pluck(e,t),function(e,t){return+e+ +t})}function M(e,t){var o;return o=e.length,k(e,t)/o}function S(e,t){var o,n;o=[],n=_.pairs(t);for(var r=0;r<e.length;r++)for(o[r]={},j=0;j<n.length;j++)o[r][n[j][0]]=e[r][n[j][1]];return o}function T(e,t){var o,n;do{o=e.length,n=(e=_.without(e,_.findWhere(e,t))).length}while(o!==n);return e}function D(e,t){pairs=_.pairs(t),withoutArrayObj=[];for(var o=0;o<pairs.length;o++)withoutArrayObj[o]=new Object,withoutArrayObj[o][pairs[o][0]]=pairs[o][1];for(o=0;o<withoutArrayObj.length;o++)e=T(e,withoutArrayObj[o]);return e}function O(e){return accounting.formatMoney(e)}function L(e,t){var o,n,r,i,a;if(a=NaN,!isNaN(e)){if(e=""+e,o=e.split("."),n=o[0],r="0",2===o.length)for(i=+(r=o[1])/Math.pow(10,r.length-t),r=""+(r=Math.ceil(i)),idx=0;idx<t-r.length;idx++)r="0"+r;a=(a=+(a=n+"."+r)).toFixed(t)}return a}function J(e,t,o){return e=""+e,expReg=new RegExp(t,"g"),e.replace(expReg,o)}function z(e){var t,o,n,r;for(n=(t=e.split(" ")).length,o="",r=0;r<n;r++)r!=n-1?o=o+E(t[r])+" ":o+=E(t[r]);return o}function E(e){return e.substr(0,1).toUpperCase()+e.substr(1,e.length).toLowerCase()}function P(e){var t,o;return t=$.trim(e),o=t.split(" "),o=_.without(o,""),t=o.join(" "),t=$.trim(t)}function C(e,t,o,n){"use strict";$(e).fileupload({url:o,dataType:"json",done:function(e,t){var o;o=t.result.files,F(n,o).success(function(){$.each(o,function(e,t){$("<p/>").text(t.name).appendTo("#files")})})},progressall:function(e,o){var n=parseInt(o.loaded/o.total*100,10);$(t).css("width",n+"%","background-color","#5cb85c")}})}function I(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",o="",n=0;n<4;n++){var r=Math.floor(Math.random()*t.length);o+=t.substring(r,r+1)}$(e).val(o)}return moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"ene._feb._mar_abr._may_jun_jul._ago_sep._oct._nov._dic.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"dom._lun._mar._mier._juev._vie._sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Hoy a las] LT",nextDay:"[Mañanaalas]LT",nextWeek:"dddd[a]LT",lastDay:"[Ayera]LT",lastWeek:"dddd[hasta]LT",sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d dias",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(){returnnumber},week:{dow:1,doy:6}}),{momentToRoman:e,momentToHuman:t,getTemplate:o,loadTemplate:n,getValue:r,setValue:i,existInDOM:a,trimValue:s,getHTML:c,setHTML:d,cryptElement:l,appendOne:m,appendMulti:u,prependOne:p,prependMulti:f,resizeInput:v,setDateTPCalendar:g,validFormFull:h,validFormEmpty:b,resetForm:y,postalService:F,getInternalJSON:w,hasOwnPropertyOptimized:x,filterArrayObjByKey:A,sumArrayObjByKey:k,avgArrayObjByKey:M,renameArrayObjKeys:S,withoutArrayObjAND:T,withoutArrayObjOR:D,currencyFormat:O,roundNDecimalFormat:L,replaceAll:J,ucWords:z,ucFirst:E,advancedTrim:P,picturesLoader:C,randomString:I}}(),$(document).ready(function(){$.fn.serializeFormJSON=function(){var e={},t=this.serializeArray();return $.each(t,function(){e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},Number.prototype.format=function(e,t){var o="(\\d)(?=(\\d{"+(t||3)+"}) + "+(e>0?"\\.":"$")+")";return this.toFixed(Math.max(0,~~e)).replace(new RegExp(o,"g"),"$1,")},$(".nav-container").on("click",".mobile-toggle",openMenuMethods.clickOpenMenu),$(".model-select-block",".nav-1").hide().css("visibility","visible"),$("div.model-select-block li").mouseover(function(){$(this).siblings().stop().animate({opacity:.5},300)}).mouseout(function(){$(this).siblings().stop().animate({opacity:1},300)}),$("body").on("click","ul li:has(ul)",dropdown_methods.dropdown),$(".vehicles a","#menu").on("click",openMenuMethods.clickOpenModels),$(".agencies a","#menu").on("click",openMenuMethods.clickOpenAgencies),$(domEl.div_recurrent).on("click","#scroll-contacto",scrollContact.init),$(".buttons").click(function(){$("body, html").animate({scrollTop:"0px"},300)}),$(window).scroll(function(){$(this).scrollTop()>0?$(".buttons").slideDown(300):$(".buttons").slideUp(300)}),$(domEl.div_recurrent).on("click",".cd-btn",slideInPanel.openSlideInPanel),$(domEl.div_recurrent).on("click",".cd-panel",slideInPanel.closeSlideInPanel),$(domEl.div_recurrent).on("focusout",".validate-required",function(){$.validate_input($(this))}),$(domEl.div_recurrent).on("click",".contact-form-send",contactForm.clickSend),$(domEl.div_recurrent).on("click",".financing-form-send",financingForm.clickSend),$(domEl.div_recurrent).on("click",".financing-details-form-send",financingForm.clickSend),$(domEl.div_recurrent).on("click",".testdrive-form-send",testDriveForm.clickSend),$(domEl.div_recurrent).on("click",".testdrive-details-form-send",testDriveForm.clickSend),$(domEl.div_recurrent).on("click",".service-form-send",serviceForm.clickSend),$(domEl.div_recurrent).on("click",".repairs-form-send",repairsForm.clickSend),$(domEl.div_recurrent).on("click",".video-strip .pre-video i",video_strip_methods.video_strip_pre_video),$(domEl.div_recurrent).on("click",".video-strip .close-frame",video_strip_methods.video_strip_close_frame),$(domEl.div_recurrent).on("click","#stop-video",video_strip_methods.stop_video)});var inputValMetdods={isIntegerKP:function(e){var t,o,n,r,i;t=e.keyCode||e.which,o=String.fromCharCode(t),n=[8,9,37,38,39,40,46],r=!1;for(i in n)t==n[i]&&(r=!0);if(-1=="0123456789".indexOf(o)&&!r)return!1},isDecimalKP:function(e){var t,o;return o=$(this).val(),8==(t=e.keyCode?e.keyCode:e.which)||(t>47&&t<58?""==o||(regexp=/.[0-9]{15}$/,!regexp.test(o)):46==t&&(""!=o&&(regexp=/^[0-9]+$/,regexp.test(o))))},roundDecimalBlur:function(){var e;e=$(this).val(),e=CAMAD.roundNDecimalFormat(e,2),$(this).val(e)}},validations_regexp={address:new RegExp(/^[a-zá-úüñ,#0-9. -]{2,}$/i),date:new RegExp(/^(\d{4})-(\d{1,2})-(\d{1,2})$/),email:new RegExp(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),name:new RegExp(/^[a-zá-úüñ. ]{2,}$/i),phone:new RegExp(/^[0-9\s\-]{7,13}$/)},validation_messages={date:"Debe ser aaaa-mm-dd",date_tomorrow:"Sólo a partir de mañana",email:"Verifica tu correo",general:"Campo no válido",not_config:"Tipo desconocido",not_null:"No puede ser nulo",phone:"Verifica que tu número sea de 10 dígitos",required:"Campo requerido",empty:"Campo vacío"};$.validate_input=function(e){if(e.is("input")||e.is("textarea")||e.is("select")){var t=e.data("validation-data").split("|"),o=t.indexOf("required");o>=0&&t.splice(o,1);var n=validate(e.val(),t,o>=0);return $.error_bubble(e,!n.valid,n.message),n.valid}var r=!(null===e.val());return $.error_bubble(e,!r,validation_messages.required),r},$.error_bubble=function(e,t,o){var n=e.parent().children("p.invalid-message");t?o?n.html(o+"<span>&nbsp;</span>").stop().hide().fadeIn():n.stop().hide().fadeIn():n.hide()};